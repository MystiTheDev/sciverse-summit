<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Delegate Statistics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root { --sidebar-width: 250px; }
        .sidebar {
            position: fixed; top: 0; left: 0; height: 100%; width: var(--sidebar-width); 
            padding-top: 56px; background-color: #f8f9fa; z-index: 1000; transition: all 0.3s;
        }
        .content {
            margin-left: var(--sidebar-width); padding: 80px 20px 20px 20px; 
            position: relative; z-index: 1; transition: all 0.3s;
        }
        @media (max-width: 991.98px) {
            .sidebar { width: 0; }
            .content { margin-left: 0; }
        }
        .table-stats th {
            background-color: #000000;
            font-weight: 600;
            color: #ffffff;
            text-align: center;
            vertical-align: middle;
        }
        .table-stats td {
            text-align: center;
            vertical-align: middle;
        }
        .table-stats td:first-child {
            text-align: left;
            font-weight: 500;
        }
        .flag-icon {
            margin-right: 8px;
        }
    </style>
</head>
<body>

    <!-- HEADER -->
    <div th:replace="fragments :: header"></div>

    <!-- SIDEBAR -->
    <div th:replace="fragments :: sidebar"></div>

    <!-- MAIN CONTENT -->
    <div class="content">
        <div class="container-fluid">
            <h2 class="mb-4">Delegate Statistics</h2>
            
            <div class="card shadow-sm">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover table-stats mb-0">
                            <thead>
                                <tr>
                                    <th style="text-align: left; padding-left: 20px;">Delegate Name</th>
                                    <th>Times spoken</th>
                                    <th>Total speaking time</th>
                                    <th>Motion proposals</th>
                                    <th>Amendment proposals</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="delegate : ${delegates}">
                                    <td style="padding-left: 20px;">
                                        <!-- Placeholder for flag if we had one, using icon for now -->
                                        <i class="bi bi-person-badge me-2 text-secondary"></i>
                                        <span th:text="${delegate.name}">Delegate Name</span>
                                    </td>
                                    <td th:text="${delegate.timesSpoken}">0</td>
                                    <td th:text="${delegate.formattedSpeakingTime}">0:00</td>
                                    <td th:text="${delegate.motionProposals}">0</td>
                                    <td th:text="${delegate.amendmentProposals}">0</td>
                                </tr>
                                <tr th:if="${#lists.isEmpty(delegates)}">
                                    <td colspan="5" class="text-center py-4 text-muted">No delegates found.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>